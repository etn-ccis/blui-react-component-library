import ChangePassword from './images/change-password.png';
import { CodeBlock } from '../../../../shared';

# ChangePasswordScreen

This component provides a form to enter the user's current password and a new password. The screen will display an error if the new password does not meet the password requirements. This component must be used within an `AuthContextProvider`.

<img width="400" alt="Account Details" src={ChangePassword} />

## Usage

<CodeBlock
    language={'jsx'}
    code={`import { AuthContextProvider, ChangePasswordScreen } from '@brightlayer-ui/react-native-auth-workflow';

...
<AuthContextProvider {...props}>
    <ChangePasswordScreen />
</AuthContextProvider>`}
/>

## API

| Prop Name                     | Type                                | Description                                                                                                                     | Default                                                       |
| ----------------------------- | ----------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| PasswordProps                 | `SetPasswordProps`                  | See [Set Password](/workflows/set-password/)                                                                                           |                                                               |
| currentPasswordLabel          | `string`                            | The label to display for the current password field.                                                                            | `t('bluiCommon:LABELS.CURRENT_PASSWORD') (Current Password)` |
| currentPasswordChange         | `(currentPassword: string) => void` | Callback called when the current password field input changes.                                                                  |                                                               |
| enableButton                  | `boolean \| (() => boolean)`        | True if the next button should be enabled.                                                                                      | `false`                                                       |
| onFinish                      | `() => void`                        | Called when the button is clicked on success screen.                                                                            |                                                               |
| currentPasswordTextInputProps | `TextInputProps`                    | Props to pass to the current password field. See React Native Paper [TextInputProps API](https://callstack.github.io/react-native-paper/docs/components/TextInput/). |                                                               |
| showSuccessScreen             | `boolean`                           | Used to determine whether to show a success screen after the form is submitted.                                                 |                                                               |
| slots                         | `ChangePasswordScreenSlots`         | Components to use in place of the defaults. See [ChangePasswordScreenSlots](#changepasswordscreenslots)                         |                                                               |
| slotProps                     | `ChangePasswordScreenSlotsProps`    | Props to pass to the custom slot components. See [ChangePasswordScreenSlotsProps](#changepasswordscreenslotsprops)              |                                                               |
| errorDisplayConfig | `ErrorManagerProps` | See [Error Management](/workflows/error-management/) |  |

### ChangePasswordScreenSlots

| Key           | Type                                         | Description                                                                    |
| ------------- | -------------------------------------------- | ------------------------------------------------------------------------------ |
| SuccessScreen | `(props: SuccessScreenProps) => JSX.Element` | A custom success screen component to render. See [SuccessScreen](/workflows/success/) |

### ChangePasswordScreenSlotsProps

| Key           | Type                 | Description                                                                             |
| ------------- | -------------------- | --------------------------------------------------------------------------------------- |
| SuccessScreen | `SuccessScreenProps` | Props to pass to the custom success screen component. See [SuccessScreen](/workflows/success/) |

This screen also extends the `WorkflowCardProps` type for updating the title, instructions, buttons, etc. See [Workflow Card](/workflows/workflow-card/) for more details.